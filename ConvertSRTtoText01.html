<!DOCTYPE html>
<html>
<head>
	<title>Convert SRT to Text</title>
	<meta charset="UTF-8">
	<style>
		textarea {
			width: 100%;
			height: 300px;
			margin-bottom: 20px;
		}
		button {
			margin-right: 10px;
		}
	</style>
</head>
<body>
	<h1>Convert SRT to Text</h1>
	<form>
		<label for="input">Select SRT file to upload:</label><br>
		<input type="file" id="input" name="input"><br>
		<button type="button" onclick="convert()">Convert</button>
		<button type="button" onclick="download()">Download</button>
		<br><br>
		<label for="output">Output Text:</label><br>
		<textarea id="output"></textarea>
	</form>

	<script>
		function convert() {
			var input = document.getElementById('input').files[0];
			var reader = new FileReader();
			reader.readAsText(input);
			reader.onload = function() {
				var srtText = reader.result;
				var lines = srtText.split('\n');
				var outputText = '';
				for (var i = 0; i < lines.length; i++) {
					var line = lines[i].trim();
					if (!line.match(/^\d+$/) && !line.match(/^\d{2}:\d{2}:\d{2},\d{3} --> \d{2}:\d{2}:\d{2},\d{3}$/) && line !== '') {
						outputText += line + '\n';
					}
				}
				document.getElementById('output').value = outputText;
			}
		}

		function download() {
			var outputText = document.getElementById('output').value;
			var file = new Blob([outputText], {type: 'text/plain'});
			var url = URL.createObjectURL(file);
			var a = document.createElement('a');
			a.href = url;
			a.download = 'output.txt';
			document.body.appendChild(a);
			a.click();
			setTimeout(function() {
				document.body.removeChild(a);
				window.URL.revokeObjectURL(url);
			}, 0);
		}
	</script>
</body>
</html>
